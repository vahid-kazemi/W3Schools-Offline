"use strict";!function(e,n,t,a,s,r,i,o){var c=e._snigelConfig;if(c)try{t=c.settings.adconsent.objName}catch(e){}var l=void 0,u=87,p=229,d="__"+t,v="stub",f="loaded",g="pwuserstatus",m=void 0,h={tcfeuv2:{z:1,v:2,sid:2,api:s,f:s,s:"getTCData",c:"euconsent-v2",n:"GDPR"},uspv1:{z:2,v:1,sid:6,api:i,f:i,s:"getUSPData",c:"usprivacy",n:"CCPA"},tcfcav1:{z:3,v:2,sid:5,api:t+".pipeda",f:"__tcfca",s:"getTCData",c:"caconsent",n:"PIPEDA"},usnat:{z:4,v:1,sid:7,api:t+".usnat",f:"__usnat",s:"getUSData",c:"usconsent",n:"USNATIONAL"},usca:{z:5,v:1,sid:8,api:t+".usnat",f:"__usnat",s:"getUSData",c:"uscaconsent",n:"US-CALIFORNIA"},usco:{z:6,v:1,sid:10,api:t+".usnat",f:"__usnat",s:"getUSData",c:"uscoconsent",n:"US-COLORADO"},usct:{z:7,v:1,sid:12,api:t+".usnat",f:"__usnat",s:"getUSData",c:"usctconsent",n:"US-CONNECTICUT"},usva:{z:8,v:1,sid:9,api:t+".usnat",f:"__usnat",s:"getUSData",c:"usvaconsent",n:"US-VIRGINIA"},usut:{z:9,v:1,sid:11,api:t+".usnat",f:"__usnat",s:"getUSData",c:"usutconsent",n:"US-UTAH"}},b=[1,2],C={gppVersion:"1.1",supportedAPIs:Object.keys(h).map(e=>h[e].sid+":"+e),cmpStatus:v,cmpDisplayStatus:"disabled",cmpId:p};function y(e){return"function"==typeof e}function S(e){return"string"==typeof e}try{o=localStorage}catch(e){}var I,E,A=e.performance,L=A&&A.now?function(){return Math.floor(A.now())}:function(){return 0};function w(e){if(window.argus){var n=1===e.length&&e[0]instanceof Error?{stack:e[0].stack}:{log:e,stack:(new Error).stack};window.argus.cmd.push(function(){window.argus.queueError("adconsent",n)})}}!function(){if(y(e.CustomEvent))return!1;function t(e,t){t=t||{bubbles:!1,cancelable:!1,detail:l};var a=n.createEvent("CustomEvent");return a.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),a}t.prototype=e.Event.prototype,e.CustomEvent=t}();try{function _(n,t,a,s){e.console[n]&&N.level>=t&&console[n].apply(console,function(e,n,t){return e=[].slice.call(e),n&&e.unshift(n),e.unshift("display: inline-block; color: #fff; background: "+t+"; padding: 1px 4px; border-radius: 3px;"),e.unshift("%cAdConsent"),e}(a,n.toUpperCase()+":",s))}function U(n){return n===a?function(t,a,s){e[n](t,s,a,l)}:function(t,a,s){e[n](t,l,s,a)}}var k=U(d);k.utils={getStorageItem:e=>{if(o){var n="_sn_"+e;try{var t=o.getItem(n).split("~");if(2===t.length&&parseInt(t[0])>=Date.now())return t[1];o.removeItem(n)}catch(e){o.removeItem(n)}}},setStorageItem:(e,n,t)=>{o&&o.setItem("_sn_"+e,Date.now()+1e3*t+"~"+n)},deleteStorageItem:e=>{o&&o.removeItem("_sn_"+e)}},k.functions={},k.constants={},k.constants.pwUserStatusStorageName=g,k.gdpr=U(s);var D=k.gdpr;D.listenerId=1,D.tcfListeners=[],D.addEventListener=function(e,n,t){if($(j,e,n)){O("Adding event listener "+D.listenerId,n);var a={id:D.listenerId++,callback:n||function(){}};D.tcfListeners.push(a),t(null,a.id,a.callback)}},D.removeEventListener=function(e,n,t,a,s){if($(j,t,a)){O("Removing event listener "+s);for(var r=0;r<D.tcfListeners.length;r++)if(D.tcfListeners[r].id==s)return D.tcfListeners.splice(r,1),void ee(a,!0);z("Couldn't find listener id "+s+"."),ee(a,!1)}},D.getTCData=function(e,n,t,a){if($(j,t,a))return K(null,0,a)},D.processListeners=function(e){for(var n=D.tcfListeners.slice(),t=0;t<n.length;t++)e(null,n[t].id,n[t].callback)},k.ccpa=U(i),k.gpp=U(a);var T=k.gpp;T.eventListeners={id:0},T.fibonacciEncode=function(e){var n=function e(n,t){t=t||[];if(!n)return t;var a=0;for(;n>=b[a];)++a>=b.length&&b.push(b[a-1]+b[a-2]);t.push(a);return e(n-b[a-1],t)}(e),t="";if(n.length){var a,s=0,r=n[0],i=n[s];t="1";for(var o=r;o>0;o--)a="0",o===i&&(a="1",++s<n.length&&(i=n[s])),t=a+t}return t},T.fibonacciDecode=function(e){var n=0;if(e.length>1)for(var t=0;t<e.length-1;t++)t>=b.length&&b.push(b[t-1]+b[t-2]),"1"===e.charAt(t)&&(n+=b[t]);return n},k.version=u,k.cmpId=p;k.cfg=c&&c.adConsentConfigOverrides?c.adConsentConfigOverrides:{apiBaseUrl:"https://cdn.snigelweb.com/adconsent/87",publisherCC:"US",storage:0};var P=k.cfg;k.log={levels:{off:0,error:1,warning:2,info:3,debug:4},level:2,error:function(){w(arguments),_("error",1,arguments,"#ff0000")},warn:function(){_("warn",2,arguments,"#ffe600")},info:function(){_("info",3,arguments,"#3b88a3")},debug:function(){_("debug",4,arguments,"#808080")}};var N=k.log,O=N.debug,V=N.info,z=N.warn,x=N.error;k.consent=function(){var e={regions:{0:"NONE"},region:l,api:{}};for(var n in h){var t=h[n];e.regions[t.z]=t.n,e.api[n]={region:t.z,loaded:!1,applies:l,version:t.v,status:v}}return e}();var G=k.consent,R=G.regions,W=G.api,j=W.tcfeuv2,M=W.uspv1;k.analytics={enabled:!1,callback:l,send:function(e){q.sendEvent(R[G.region],e,L())},sendEvent:function(n,t,a){(V("Sending analytics event action"+(q.enabled?"":" disabled")+": "+n+", label: "+t+", value: "+a),q.enabled)&&(q.callback||function(n){e.gtag?gtag("event",n.action,{event_category:n.category,event_label:n.label,event_value:n.value}):e.ga?ga("send",{hitType:"event",eventCategory:n.category,eventAction:n.action,eventLabel:n.label,eventValue:n.value,nonInteraction:n.nonInteraction}):z("Unable to find Google Analytics module (gtag or ga).")})({category:"AdConsent",action:n,label:t||n,value:a||0,nonInteraction:!0})}};var q=k.analytics,H=q.send;k.event={fired:{},dispatchCustomEvent:function(e,t,a){a&&B[e]||(B[e]=!0,O("Emitting custom event "+e+" with details: ",t),n.dispatchEvent(new CustomEvent(e,t)))},dispatchCustomEventConsent:function(e,n){var t={0:"N/A",1:"NoConsent",2:"PartialConsent",3:"FullConsent"};H(t[n]),G.region!=h.tcfeuv2.z&&G.region!=h.tcfcav1.z||0==e||H("Publisher"+t[e]);var a=ne(e,n);m=3==a,J.dispatchCustomEvent("cmpConsentAvailable",{detail:{consentSummary:{mapping:{0:"not available",1:"no consent",2:"partial consent",3:"full consent"},publisherConsent:e,vendorsConsent:n,globalConsent:a,gdprApplies:j.applies,uspApplies:M.applies,currentAPI:C.currentAPI}}})}};var J=k.event,B=J.fired,F=(E=e.location.search)?E.replace(/^\?/,"").split("&").reduce(function(e,n){var t=n.split("="),a=t[0],s=t.length>1?t[1]:l;return/\[\]$/.test(a)?(e[a=a.replace("[]","")]=e[a]||[],e[a].push(s)):e[a]=s||"",e},{}):{},X=("true"==F.sn_debug?"debug":null)||("true"==F.adconsent_debug?"debug":null)||F.adconsent_log;if(N.level=N.levels[X]||N.level,e[t])return void x("Stub is tried to load again!");if(e[s]||e[i]||e[a])return void z("A cmp is already registered in the system. AdConsent is stopping.");function $(e,n,t){return!n||n===e.version||(ee(t,null,!1),O("Wrong framework version detected: "+n),!1)}function K(e,n,t){var a=j.applies?l:j.applies,s={tcString:l,tcfPolicyVersion:5,cmpId:p,cmpVersion:u,gdprApplies:a,eventStatus:!1===a?"tcloaded":l,cmpStatus:j.status,listenerId:n,isServiceSpecific:!0,useNonStandardStacks:!1,publisherCC:P.publisherCC,purposeOneTreatment:!1};return O("Sending TCData structure:",s,t),ee(t,s,!0),s}function Q(e,n,t,a,s){e.queue.push({command:n,version:t,parameter:s,callback:a})}function Y(n){for(var t=Array.isArray(n)?n:(n||"").split("."),a=t.length>1,s=t.length-1,r=t[s],i=e,o=0;o<s&&(i=i[t[o]]);o++);return{r:i,e:r,apiParts:t,api:i?i[r]:l,internal:a}}function Z(t,s){var r=function(n){var s=n.data,r=S(s);try{var i=(r?JSON.parse(s):s)[t+"Call"];if(i){var o=function(e,a){try{if(n&&n.source&&n.source.postMessage){var s={};s[t+"Return"]={returnValue:e,success:a===l||a,callId:i.callId},n.source.postMessage(r?JSON.stringify(s):s,"*")}}catch(e){}};t===a?e[t](i.command,o,i.parameter,i.version):e[t](i.command,i.version,o,i.parameter)}}catch(e){}},i=Y(t);if(!i.internal){var o=function(t){if(!e.frames[t]){var a=n.body;if(a){var s=n.createElement("iframe");s.style.display="none",s.name=t,a.appendChild(s)}else setTimeout(o,5,t)}};o(t+"Locator")}if(i.r&&!y(i.api)){i.r[i.e]=function(e,n,r,o){var c=Y(i.apiParts).api;if(!c.queue)return c(e,n,r,o);var u=!1;for(var p in s)if(e===p)return u=!0,(0,s[p])(c,e,n,r,o);if(!u)if(t===a){var d=(e||"none").split("."),v=2===d.length?h[d[0]]:l;if(v){var f=Y(v.api);f.internal?f.api(d[1],r,n):f.api(d[1],v.v,n,r)}else x("Unknown "+t+"() API call '"+e+"'")}else i.internal?Q(c,e,o,r,n):Q(c,e,n,r,o)},i.r[i.e].queue=[],i.internal||(e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r))}}function ee(e,n,t){y(e)&&setTimeout(function(){e(n,t)},0)}function ne(e,n){return e&&3!==e||3!==n?e||n?e&&1!==e||1!==n?2:1:0:3}e[t]=k,k.resolveGlobalConsent=ne;var te=!1;function ae(n,t,a,s,r){if(a||z("setConsentRegion is deprecated and should be only used in debug mode."),G.region===l)if(R[r]){for(var o in h){var c=W[o];c.applies=c.region==r,c.applies?C.currentAPI=o:(c.loaded=!0,c.status=f)}var u;G.region=r,C.applicableSections=[C.currentAPI?h[C.currentAPI].sid:-1],V("Configured consent region "+R[r]),u=(n=>{var t=e[n],a=t.queue;if(a){t.queue=[];for(var s=0;s<a.length;s++){var r=a[s];t(r.command,r.version,r.callback,r.parameter)}}}),G.region!==h.tcfeuv2.z&&D.processListeners(K),G.region!==h.uspv1.z&&u(i),0===G.region&&u(d)}else x("Incorrect consent region "+r)}function se(e){ee(e,{hasSubscription:!1},!0)}function re(e,n){ee(n,{message:"Consent Wall not available in this region",enabled:!1},!0)}function ie(e){ee(e,{consentWallEnabled:!1},!0)}function oe(n,t){k.utils.setStorageItem(g,1,31556926),S(n)&&(e.location.href=n)}k.functions.isConsentWallUser=se,k.functions.enableConsentWall=re,k.functions.isConsentWallEnabled=ie,k.functions.ensureConsentWall=oe;var ce=(e,t,a,s)=>{var r=()=>ee(s,{fullConsent:m,region:C.currentAPI},!0),i=()=>{n.removeEventListener("cmpConsentAvailable",i),r()};void 0===m?n.addEventListener("cmpConsentAvailable",i):r()};k.functions.getConsent=ce;function le(e,n){for(var t in T.eventListeners)"id"!==t&&ee(T.eventListeners[t],de(e,t,n))}function ue(e,n,t){var a=JSON.parse(JSON.stringify(C));return ee(t,a,!0),a}function pe(e,n,t,s){var r=S(s)&&h[s];if(r){var i=Y(r.api);return i.internal?i.api(r.s,l,t):i.api(r.s,r.v,t)}return function(e,n,t){var s=a+"() API call '"+e+"': "+t;return x(s),ee(n,{message:s},!1),null}(n,t,"Unknown section '"+s+"'.")}function de(e,n,t){return{eventName:e,listenerId:Number.parseInt(n),data:t,pingData:ue()}}Z(s,{ping:function(e,n,t,a){ee(a,{gdprApplies:j.applies,cmpLoaded:j.loaded,cmpStatus:j.status,displayStatus:"disabled",apiVersion:"2.2",cmpVersion:u,cmpId:p,gvlVersion:l,tcfPolicyVersion:5},!0)},getTCData:D.getTCData,addEventListener:function(e,n,t,a,s){D.addEventListener(t,a,K)},removeEventListener:D.removeEventListener}),Z(i,{getUSPData:function(e,n,t,a,s){if(!1===M.applies){if($(M,t,a)){var r={version:h.uspv1.v,uspString:h.uspv1.v+"---"};return ee(a,r,!0),r}}else Q(e,n,t,a,s)}}),I=function(t){var a=!0,s=C.cmpStatus;C.cmpStatus=f;var r=C.cmpDisplayStatus,i=t.type;if("cmpGUIShow"===i?(C.cmpDisplayStatus="visible",C.signalStatus="not ready",le("signalStatus","not ready"),a=!1):"cmpGUISubmit"===i&&(C.cmpDisplayStatus="hidden",le("sectionChange",C.currentAPI)),r!==C.cmpDisplayStatus?le("cmpDisplayStatus",C.cmpDisplayStatus):s!==f?le("cmpStatus",f):a=!1,a){var c=function(t){var a={sectionId:3,gppVersion:1,parsedSections:{}};t&&(a.pingData=ue(),a.applicableSections=[C.currentAPI?h[C.currentAPI].sid:-1]);var s=function(e,n,t){var a=S(e)?e:Number(e).toString(2);if(n)for(var s=(n-a.length%n)%n,r=0;r<s;r++)t?a+="0":a="0"+a;return a},r={},i=[];for(var c in h){var l=h[c];if(l&&l.c){var u="_sn_"+l.c,p=(o&&o.getItem(u)||"").split("~");if(p&&2===p.length)try{parseInt(p[0])>=(new Date).getTime()?(r[l.sid]=p[1],i.push(l.sid)):o.removeItem(u)}catch(e){}else{var d=("; "+n.cookie).split("; "+l.c+"=");d.length>=2&&(r[l.sid]=d[d.length-1].split(";").shift(),i.push(l.sid))}a.parsedSections[c]=pe(null,null,null,c)}}var v="",f="";v+=s(a.sectionId,6),v+=s(a.gppVersion,6),v+=s(i.length,12);var g=0;return a.sectionList=i.sort(function(e,n){return e-n}),a.sectionList.forEach(function(e){v+=s(0,1);var n=e-g;v+=T.fibonacciEncode(n),f+="~"+r[e],g=e}),v=s(v,6,!0),a.gppString=function(n){for(var t=s(n,8,!0),a="",r=0;r<t.length;r+=8)a+=String.fromCharCode(parseInt(t.substr(r,8),2));return e.btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}(v)+f,a}();C.signalStatus="ready",C.sectionList=c.sectionList,C.gppString=c.gppString,C.parsedSections=c.parsedSections,le("signalStatus","ready")}},n.addEventListener("cmpGUIShow",I),n.addEventListener("cmpGUISubmit",I),n.addEventListener("cmpConsentAvailable",I),Z(h.tcfcav1.api,{}),Z(h.usnat.api,{}),Z(d,{start:function t(a,s,r,i,c){if(G.region!==l){if(!te)if(te=!0,0==G.region)J.dispatchCustomEventConsent(3,3);else if(C.currentAPI){var u=n.createElement("script");u.type="text/javascript",u.async=!0,u.charset="utf-8",u.src=k.cfg.apiBaseUrl+"/adconsent"+h[C.currentAPI].f+".js",n.head.appendChild(u)}}else!function(n,t){if((!n||!n.country)&&(n=null,o)){var a=o.getItem("snconsent_geo");if(a){var s=o.getItem("snconsent_geo_exp");if(s)try{parseInt(s)>=(new Date).getTime()&&(n=JSON.parse(e.atob(a)))}catch(e){}}}if(n)t(n);else{var r=new XMLHttpRequest;r.open("GET","https://pro.ip-api.com/json/?fields=24582&key=33arzTfj1gigDqW"),r.timeout=5e3,r.onload=function(){var n=r.responseText.toLowerCase(),a=JSON.parse(n);a={country:a.countrycode,region:a.region},o&&(o.setItem("snconsent_geo",e.btoa(JSON.stringify(a))),o.setItem("snconsent_geo_exp",(new Date).getTime()+36e5)),t(a)},r.onerror=r.ontimeout=function(){t(null)},r.send()}}(c,function(e){if(e&&(P.country=e.country?e.country.toLowerCase():null,P.region=(e.region||"").toLowerCase()),k.utils.getStorageItem(g))ae(0,0,1,0,h.tcfeuv2.z);else if("us"===P.country)switch(P.region){case"ca":ae(0,0,1,0,h.uspv1.z);break;default:ae(0,0,1,0,0)}else-1!=="at be bg hr cy cz dk ee fi fr de gr hu is ie it lv li lt lu mt nl no pl pt ro sk si es se gb ch".indexOf(P.country)?ae(0,0,1,0,h.tcfeuv2.z):(P.country||(H("ErrorGeotargeting"),x("Geotargeting failed")),ae(0,0,1,0,0));t()})},setStorageType:function(e,n,t,a,s){0!==s&&1!==s?ee(a,{message:"Invalid storage type: should be 0 (cookie) or 1 (local storage)."},!1):1!==s||o?(P.storage=s,ee(a,null,!0)):ee(a,{message:"Storage type 'localStorage' was selected, but local storage is not available. Reverting to cookie storage."},!1)},setPublisherCC:function(e,n,t,a,s){S(s)&&2==s.length?(P.publisherCC=s.toUpperCase(),ee(a,null,!0)):ee(a,{message:"Invalid publisher country code detected. Ignoring call."},!1)},setConsentRegion:ae,enableGoogleAnalytics:function(e,n,t,a,s){q.enabled=s===l||!!s,q.callback=a},enableInlineConsent:(e,n,t,a,s)=>{var r=(e,n,t,a)=>{if(t)e[n].forEach(e=>{e.processed,e.elem.setAttribute("src",e.src)}),delete e[n];else{var r=s&&s.labels||{};e[n].forEach(e=>{if(!e.processed&&(e.processed=1,"IFRAME"===e.type)){var t=e.elem.contentDocument;t.head.innerHTML+='<link rel="stylesheet" href="'+k.cfg.apiBaseUrl+"/adconsent"+h[C.currentAPI].f+'.css">',t.head.innerHTML+="<style>.sn-inline-bg{text-align:center}.sn-inline-bg > p{height:calc(50% - 1.5em);align-content:end;text-align:center}.sn-b-def{width:50%;margin-left:10px}</style>";for(var s=document.getElementsByTagName("style"),i=0;i<s.length;i++)t.head.appendChild(s[i].cloneNode(!0));var o=t.createElement("div");o.classList="snigel-cmp-framework sn-inline-bg";var c=t.createElement("p");c.innerHTML=(r.consentText||"To see this content you need to give permission to vendor ")+(e.name?e.name:n);var l=t.createElement("div");l.classList="sn-b-def sn-blue",l.innerHTML=r.allow||"Allow",l.addEventListener("click",()=>D("allowVendor",{id:n,isCustom:a}));var u=t.createElement("div");u.classList="sn-b-def",u.innerHTML=r.showOptions||"Show all options",u.addEventListener("click",()=>k("showGUI")),o.appendChild(c),o.appendChild(l),o.appendChild(u),t.body.appendChild(o)}})}},i=document.querySelectorAll("[data-cmp-vendor]");if(i&&i.length){var o={vendor:{},customVendor:{}};i.forEach(e=>{var n,t,a,s,r=e.dataset,i=r.cmpVendor.toUpperCase(),c=r.cmpSrc||"";c.length>2&&(i.length&&"C"===i.charAt(0)?(n=o.customVendor,t=parseInt(i.substring(1))):(n=o.vendor,t=parseInt(i)),t>0&&((a=n)[s=t]||(a[s]=[]),n[t].push({elem:e,type:e.tagName.toUpperCase(),processed:0,name:r.cmpVname||"",src:c})))}),D("addEventListener",null,e=>{if(!1===e.gdprApplies||"tcloaded"===e.eventStatus||"useractioncomplete"===e.eventStatus){var n=Object.keys(o.vendor),t=Object.keys(o.customVendor);n.forEach(n=>r(o.vendor,n,!1===e.gdprApplies||e.vendor.consents[n])),t.length&&(!1===e.gdprApplies?t.forEach(e=>r(o.customVendor,e,!0,!0)):D("getCustomVendorsConsent",null,e=>{t.forEach(n=>r(o.customVendor,n,e[n],!0))}))}});var c=Object.keys(o.vendor).length,l=Object.keys(o.customVendor).length,u=e=>1!=e?"s":"",p="Enabled inline consent for "+c+" vendor"+u(c)+" and "+l+" custom vendor"+u(l)+".";O(p),ee(a,{message:p},!0)}},isConsentWallUser:function(e,n,t,a){0===G.region?se(a):Q(e,n,t,a,null)},isConsentWallEnabled:function(e,n,t,a){0===G.region?ie(a):Q(e,n,t,a,null)},ensureConsentWall:function(e,n,t,a,s){0===G.region?oe(s):Q(e,n,t,a,s)},enableConsentWall:function(e,n,t,a,s){0===G.region?re(0,a):Q(e,n,t,a,s)},getConsent:ce});var ve=t+"Ready";e.dispatchEvent(new CustomEvent(ve)),e.dataLayer||(e.dataLayer=[]),e.dataLayer.push({event:ve})}catch(e){if(w(e),c&&c.passThroughException)throw e;console.error(e)}}(window,document,"adconsent","__gpp","__tcfapi",0,"__uspapi");